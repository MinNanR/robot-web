<template>
  <div class="content">
    <div id="charts" style="margin-top: 30px">
      <div id="myChart" style="width: 80vw; height: 600px"></div>
    </div>
  </div>
</template>

<script>


export default {
  data() {
    return {
      uploadUrl: "",
      chartData: {
        "damage": [
          0,
          0,
          0,
          105833,
          184303,
          233259,
          321615,
          545518,
          855346,
          935109,
          1101112,
          1288150,
          2600479,
          3997194,
          5646258,
          7161523,
          8838745,
          9483764,
          9815067,
          10452819,
          10452819,
          11110156,
          11463746,
          11971320,
          12275997,
          12763639,
          13245243,
          13711516,
          14268522,
          14665951,
          14881386,
          15329574,
          15648940,
          16091538,
          16353371,
          16769939,
          17105177,
          17372162,
          17610783,
          17856403,
          18094529,
          18268735,
          18580853,
          18780164,
          19091239,
          19328167,
          19564235,
          19741976,
          20008072,
          20110971,
          20145455,
          20339269,
          20585236,
          20855384,
          20994734,
          21144538,
          21280035,
          21468149,
          21614564,
          21675135,
          21842150,
          21976394,
          22072825,
          22307336,
          22541694,
          22800882,
          22958173,
          23140215,
          23328032,
          23548408,
          23728480,
          23863567,
          24046579,
          24240394,
          24318606,
          24455761,
          24538993,
          24639796,
          24744736,
          24892230,
          25127044,
          25283116,
          25432361,
          25675639,
          25778799,
          25972403,
          26054084,
          26223403,
          26361246,
          26424559,
          26424559,
          26545823,
          26640387,
          26702920,
          26779250,
          26882556,
          26938259,
          26991415,
          27067871,
          27165567,
          27212602,
          27285323,
          27393398,
          27426185,
          27517226,
          27594655,
          27692072,
          27807600,
          27908623,
          27999192,
          28187557,
          28252861,
          28339448,
          28459196,
          28579440,
          28596142,
          28697256,
          28790464,
          28851206,
          28956101,
          29058123,
          29143241,
          29278085,
          29380513,
          29458884,
          29557828,
          29649641,
          29674638,
          29724195,
          29809056,
          29887463,
          29963856,
          30063964,
          30119745,
          30210734,
          30295230,
          30379581,
          30439925,
          30484876,
          30577718,
          30681448,
          30730730,
          30803794,
          30888885,
          30968987,
          31045232,
          31131324,
          31202814,
          31276969,
          31369625,
          31468331,
          31533985,
          31622167,
          31692856,
          31793024,
          31874620,
          31959242,
          32043173,
          32133057,
          32213043,
          32303497,
          32303497,
          32447896,
          32529944,
          32586254,
          32638528,
          32727801,
          32833307,
          32902388,
          32976609,
          33059765,
          33139527,
          33242655,
          33318316,
          33394321,
          33465656,
          33559114,
          33650617,
          33738690,
          33827820,
          33921872
        ],
        "differ": [
          0,
          0,
          0,
          105833,
          78470,
          48955,
          88356,
          223903,
          309827,
          79763,
          166003,
          187037,
          1312328,
          1396715,
          1649063,
          1515264,
          1677221,
          645019,
          331303,
          637752,
          0,
          657337,
          353589,
          507573,
          304676,
          487641,
          481604,
          466273,
          557005,
          397428,
          215435,
          448187,
          319365,
          442598,
          261832,
          416568,
          335237,
          266985,
          119310,
          245620,
          238126,
          174205,
          312117,
          199310,
          311075,
          236928,
          236067,
          177741,
          266095,
          102899,
          34483,
          193814,
          245967,
          270147,
          139349,
          149804,
          135496,
          188114,
          146414,
          60571,
          167014,
          134244,
          96430,
          234511,
          234357,
          259188,
          157291,
          182041,
          187817,
          220375,
          180071,
          135087,
          183011,
          193814,
          78212,
          137154,
          83231,
          100802,
          104940,
          147494,
          234813,
          156071,
          149244,
          243278,
          103159,
          193603,
          81680,
          169318,
          137843,
          63312,
          0,
          121263,
          94564,
          62532,
          76329,
          103306,
          55702,
          53155,
          76456,
          97695,
          47034,
          72720,
          108075,
          32787,
          91040,
          77428,
          97417,
          115527,
          101022,
          90569,
          188364,
          65304,
          86586,
          59874,
          120243,
          16702,
          101113,
          93208,
          60742,
          104894,
          102022,
          85117,
          134843,
          102428,
          78370,
          98943,
          91813,
          24997,
          49557,
          84860,
          78407,
          76393,
          100108,
          55781,
          90988,
          84496,
          84350,
          60344,
          44950,
          92841,
          103729,
          49282,
          73064,
          85090,
          80101,
          76245,
          86091,
          71489,
          74155,
          92656,
          98705,
          65653,
          88182,
          70689,
          100167,
          81595,
          84621,
          83931,
          89884,
          79985,
          90453,
          0,
          144399,
          82048,
          56309,
          52274,
          89272,
          105506,
          69080,
          74221,
          83155,
          79762,
          103127,
          75660,
          76005,
          71335,
          93457,
          91502,
          88072,
          89130,
          47025
        ],
        "time": [
          0,
          1,
          2,
          3,
          4,
          5,
          6,
          7,
          8,
          9,
          10,
          11,
          12,
          13,
          14,
          15,
          16,
          17,
          18,
          19,
          19,
          20,
          21,
          22,
          23,
          24,
          25,
          26,
          27,
          28,
          29,
          30,
          31,
          32,
          33,
          34,
          35,
          36,
          38,
          39,
          40,
          41,
          42,
          43,
          44,
          45,
          46,
          47,
          48,
          49,
          50,
          51,
          52,
          53,
          54,
          55,
          56,
          57,
          58,
          59,
          60,
          61,
          62,
          63,
          64,
          65,
          66,
          67,
          68,
          69,
          70,
          71,
          72,
          73,
          74,
          75,
          76,
          77,
          78,
          79,
          80,
          81,
          82,
          83,
          84,
          85,
          86,
          87,
          88,
          89,
          89,
          90,
          91,
          92,
          93,
          94,
          95,
          96,
          97,
          98,
          99,
          100,
          101,
          102,
          103,
          104,
          105,
          106,
          107,
          108,
          109,
          110,
          111,
          113,
          114,
          115,
          116,
          117,
          118,
          119,
          120,
          121,
          122,
          123,
          124,
          125,
          126,
          127,
          128,
          129,
          130,
          131,
          132,
          133,
          134,
          135,
          136,
          137,
          138,
          139,
          140,
          141,
          142,
          143,
          144,
          145,
          146,
          147,
          148,
          149,
          150,
          151,
          152,
          153,
          154,
          155,
          156,
          157,
          158,
          159,
          160,
          160,
          161,
          162,
          163,
          164,
          165,
          166,
          167,
          168,
          169,
          170,
          171,
          172,
          173,
          174,
          175,
          176,
          177,
          178,
          180
        ]
      }
    };
  },
  methods: {
    drawChart(data) {
      console.log(data)
      // 基于准备好的dom，初始化echarts实例【这里存在一个问题，请看到最后】
      let chart = this.$echarts.init(document.getElementById("myChart"));
      // 指定图表的配置项和数据
      let option = {
        legend: {
          data: ["总伤害（B)", "DPS（B）"],
          inactiveColor: "#777",
        },
        tooltip: {
          trigger: "axis",
          axisPointer: {
            animation: false,
            type: "cross",
            lineStyle: {
              color: "#376df4",
              width: 2,
              opacity: 1,
            },
          },
        },
        xAxis: {
          type: "category",
          data: data.timeList,
          axisLine: { lineStyle: { color: "#8392A5" } },
        },
        yAxis: [{
          type: "value",
          scale: true,
          axisLine: { lineStyle: { color: "#8392A5" } },
          splitLine: { show: false },
        }, {
          type: "value",
          scale: true,
          axisLine: { lineStyle: { color: "#8392A5" } },
          splitLine: { show: false },
        }],
        grid: {
          bottom: 80,
        },
        dataZoom: [
          {
            type: "inside",
            start: 90,
            end: 100,
          },
          {
            textStyle: {
              color: "#8392A5",
            },
            handleIcon:
              "path://M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4v1.3h1.3v-1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z",
            dataBackground: {
              areaStyle: {
                color: "#8392A5",
              },
              lineStyle: {
                opacity: 0.8,
                color: "#8392A5",
              },
            },
            brushSelect: true,
            start: 90,
            end: 100,
          },
          //   {
          //     type: "inside",
          //   },
        ],
        series: [
          {
            type: "line",
            name: "总伤害（B)",
            data: data.damage,
            smooth: true,
            showSymbol: false,
            // itemStyle: {
            //   color: "#FD1050",
            //   color0: "#0CF49B",
            //   borderColor: "#FD1050",
            //   borderColor0: "#0CF49B",
            // },
            yAxisIndex: 0
          },
          {
            name: "DPS（B）",
            type: "line",
            data: data.differ,
            smooth: true,
            showSymbol: false,
            lineStyle: {
              width: 1,
            },
            yAxisIndex: 1
          },
        ],
      };
      // 使用刚指定的配置项和数据显示图表。
      chart.setOption(option);
      document.getElementById("myChart").removeAttribute("_echarts_instance_");
    },
  },


  created() {
    this.$nextTick(() => {
      this.drawChart(this.chartData);
    })
  },
  mounted() {

  }
}

</script>

<style>
.header {
  display: flex;
  justify-content: space-between;
  height: 40px;
  padding-bottom: 10px;
}

/* 
.el-input {
  width: 300px;
} */

.infinite-list {
  height: 70vh;
  padding: 0;
  margin: 0;
  list-style: none;
}

.infinite-list .infinite-list-item {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 30px;
  background: var(--el-color-primary-light-9);
  margin: 5px;
  /* color: var(--el-color-primary); */
  cursor: pointer;
}


.infinite-list .infinite-list-item+.list-item {
  margin-top: 10px;
}
</style>